<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="index.css">
  <script type="importmap">
    {
      "imports": {
        "@google/genai": "https://esm.sh/@google/genai@^1.4.0",
        "@ffmpeg/ffmpeg": "https://esm.sh/@ffmpeg/ffmpeg@^0.12.10",
        "@ffmpeg/util": "https://esm.sh/@ffmpeg/util@^0.12.1"
      }
    }
  </script>
  <script type="module" src="index.tsx"></script>
</head>
<body>

<div class="container">
  <header>
    <h1>VideoFX Studio</h1>
    <p>Bring your creative vision to life. Generate a video from a prompt and an image.</p>
  </header>

  <main class="main-content">
    <div class="controls-panel">
      <h2>Creative Controls</h2>
      <div class="control-group">
        <label for="prompt-input">Video Prompt Composer</label>
        <textarea id="prompt-input" rows="15" placeholder="Describe the video you want to create..."></textarea>
        <div class="prompt-tools">
            <div class="prompt-snippets">
                <span>Add Snippet:</span>
                <button class="prompt-snippet-btn" data-snippet="camera">+ Camera</button>
                <button class="prompt-snippet-btn" data-snippet="character">+ Character</button>
                <button class="prompt-snippet-btn" data-snippet="transition">+ Transition</button>
            </div>
             <a href="#" id="show-examples-link">Show Examples</a>
        </div>
         <div id="prompt-examples-container" style="display: none;">
            <h4>Click to load an example:</h4>
            <ul>
                <li class="prompt-example" data-example="action">Action Scene</li>
                <li class="prompt-example" data-example="emotional">Emotional Moment</li>
                <li class="prompt-example" data-example="vlog">Complex Vlog Intro</li>
            </ul>
        </div>
      </div>
      <div class="control-group">
        <label for="file-input">Conditioning Image</label>
        <div class="image-preview-container">
          <img alt="Conditioning image preview" id="image-preview" />
        </div>
        <input id="file-input" type="file" accept="image/*" />
        <label for="file-input" class="file-input-label">Choose a different image</label>
      </div>
       <div class="control-group">
        <label for="voice-select">Voice Accent</label>
        <select id="voice-select">
          <option value="">None</option>
          <option value="A clear, female voice with a standard US English accent.">Female (US English)</option>
          <option value="A clear, male voice with a standard US English accent.">Male (US English)</option>
          <option value="A clear, female voice with a standard UK English accent.">Female (UK English)</option>
          <option value="A clear, male voice with a standard UK English accent.">Male (UK English)</option>
        </select>
      </div>
       <div class="control-group">
        <label for="music-select">Background Music</label>
        <select id="music-select">
          <option value="">None</option>
          <!-- Options will be populated by JavaScript -->
        </select>
        <audio id="audio-preview" controls src="" style="width: 100%; margin-top: 0.75rem; display: none;"></audio>
      </div>
      <button id="generate-button" aria-label="Generate video">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor" style="vertical-align: middle;"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M8 5v14l11-7L8 5z"/></svg>
        <span>Generate</span>
      </button>
    </div>

    <div class="output-panel">
      <h2>Generated Output</h2>
      <div id="output-container">
         <div id="status-container">
            <div id="spinner" class="spinner" style="display: none;"></div>
            <p id="status">Your generated video will appear here. Click "Generate" to start.</p>
        </div>
        <img id="thumbnail-preview" alt="Generated video thumbnail" />
        <!-- This video element is only used for grabbing a frame and is not intended to be visible -->
        <video id="video" muted playsinline style="display: none;"></video>
      </div>
      <button id="download-button"><span>Download Video</span></button>
    </div>
  </main>
</div>

</body>
</html>